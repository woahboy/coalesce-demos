fileVersion: 1
id: 689c8357-e454-410a-aa91-b48ce2ba0361
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: WORK
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 08df434b-849a-432c-9ea2-3290a06d2ce1
          stepCounter: 689c8357-e454-410a-aa91-b48ce2ba0361
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a7c36d80-4420-4bf2-bd3b-dcec23e421f3
                stepCounter: 1712bfd6-e07b-4a92-a062-364c03ee9505
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 829a3c38-e827-4486-b591-a5efe119098f
          stepCounter: 689c8357-e454-410a-aa91-b48ce2ba0361
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 00f18d70-fbb8-4c60-a2a8-c4b88d0ffb0c
                stepCounter: 1712bfd6-e07b-4a92-a062-364c03ee9505
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5a32a226-60a4-4125-b004-4b8d3f4fc641
          stepCounter: 689c8357-e454-410a-aa91-b48ce2ba0361
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d1747c36-2224-4a7d-b52a-0b6a00dc1a74
                stepCounter: 1712bfd6-e07b-4a92-a062-364c03ee9505
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5fb37aae-9fcf-49b1-8632-9a31285b5939
          stepCounter: 689c8357-e454-410a-aa91-b48ce2ba0361
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bb4a5976-f277-408b-b6b4-f5047e037b07
                stepCounter: 1712bfd6-e07b-4a92-a062-364c03ee9505
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 339b1d9b-5060-43d3-9901-cf1b015e11cd
          stepCounter: 689c8357-e454-410a-aa91-b48ce2ba0361
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8d7ccab2-6430-4933-a281-1e3d926e8f6d
                stepCounter: 1712bfd6-e07b-4a92-a062-364c03ee9505
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8274f9d5-a7db-4025-85cf-ced4178dcd8f
          stepCounter: 689c8357-e454-410a-aa91-b48ce2ba0361
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1f9ea777-f150-44a6-a3c4-ca7207b9dde4
                stepCounter: 1712bfd6-e07b-4a92-a062-364c03ee9505
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3930662c-b87a-42f3-9a57-f78366d4120f
          stepCounter: 689c8357-e454-410a-aa91-b48ce2ba0361
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1f9ea777-f150-44a6-a3c4-ca7207b9dde4
                stepCounter: 1712bfd6-e07b-4a92-a062-364c03ee9505
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 50000 OR "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'HIGH' ELSE 'LOW' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6110fe5e-dd41-4255-8229-66145d433735
          stepCounter: 689c8357-e454-410a-aa91-b48ce2ba0361
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 44b3703f-6766-4e3c-a126-753842bfb1c7
                stepCounter: 1712bfd6-e07b-4a92-a062-364c03ee9505
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 00c66273-4276-49fd-afd5-d53c3bce0b17
          stepCounter: 689c8357-e454-410a-aa91-b48ce2ba0361
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3e44b38a-384f-4bde-ad10-2ff723ba1d96
                stepCounter: cc2e6178-1dae-4e15-9d7b-50c9b17bf80f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fed3ad95-dddf-463d-ba50-552c82142f01
          stepCounter: 689c8357-e454-410a-aa91-b48ce2ba0361
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 00848a84-d1fb-4180-89aa-58cd3e14e6ae
                stepCounter: cc2e6178-1dae-4e15-9d7b-50c9b17bf80f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 32441fbe-b119-4d64-8e6e-5d907e84d41e
          stepCounter: 689c8357-e454-410a-aa91-b48ce2ba0361
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fb6be889-ac29-4e28-97a7-24735cced367
                stepCounter: c34e6c93-d620-46bc-8ee6-e69959e6656d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 33fad5b2-f38a-4b17-a801-67a2b72cd8b5
          stepCounter: 689c8357-e454-410a-aa91-b48ce2ba0361
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0d17874c-0ed0-4a20-91a7-13e88bcaca60
                stepCounter: c34e6c93-d620-46bc-8ee6-e69959e6656d
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 1712bfd6-e07b-4a92-a062-364c03ee9505
          NATION: cc2e6178-1dae-4e15-9d7b-50c9b17bf80f
          REGION: c34e6c93-d620-46bc-8ee6-e69959e6656d
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: "519"
  type: sql
  version: 1
type: Node
